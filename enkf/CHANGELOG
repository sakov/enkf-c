v. 1.39.0
   PS 04052016
   -- Modified internally alloc2d(), alloc3d(). Changed interface in copy2d()
      copy3d(). Eliminated free2d() and free3d() -- now just free().
v. 1.38.6
   PS 04052016
   -- Corrected MLD calculation.
v. 1.38.5
   PS 03052016
   -- Replaced alloc2d() to gu_alloc2d() for curvilinear nodes.
v. 1.38.4
   PS 03052016
   -- Corrected obs_addtype() for a change in struct obstype.
v. 1.38.3
   PS 03052016
   -- Modified internally alloc2d(), free2d(), copy2d(), alloc3d(), free3d(),
      copy3d().
v. 1.38.2
   PS 03052016
   -- Removed redundant interpolations in H_subsurf_wsurfbias().
v. 1.38.1
   PS 03052016
   -- Removed redundant arguments in H_fn().
v. 1.38.0
   PS 02052016
   -- Added H_subsurf_wsurfbias(). As a consequence, also added das_calcmld(),
      copy2d(), copy3d(). Modified alloc2d(), free2d(), alloc3d(), free3d().
      Added model_addorreplacedata(). Modified model_adddata(). A lot of minor
      changes.
v. 1.37.3
   PS 14042016
   -- Modified readfield() to ignore "k" index if the number of dimensions is 4
      and the size of the corresponding dimension is 1
v. 1.37.2
   PS 13042016
   -- Added "biased" H-finction for observation type "SST".
v. 1.37.1
   PS 12042016
   -- Fixed analysis variable names in pointlog files: they now have suffix
      suffix "_an" if ehkf_update outputs analyses, and "inc" if it outputs
      increments (before it was "_an" regardless).
v. 1.37.0
   PS 24032016
   -- Added a new optional grid parameter "MAPTYPE" that can be set either to
      "b" (binary tree) or "k" (kd-tree)
   -- Fixed examples/2/grid2/grid_spec.nc
v. 1.36.3
   PS 24032016
   -- Minor changes in kd-tree code
v. 1.36.2
   PS 23032016
   -- Re-wrote the kdtree code
v. 1.36.1
   PS 18032016
   -- Removed redundant dependency on the latest version of gridutils (not
      yet...)
v. 1.36.0
   PS 18032016
   -- Refurbished the kdtree code (for no particular reason)
v. 1.35.0
   Marshall Ward 11032016
   -- Replaced isend/bcast calls in das_getHE() with allgatherv
v. 1.34.0
   PS 11032016
   -- Made sure that in single observation experiements (options
      --single-observation-xyz or --single-observation-ijk of enkf_calc) for
      surface obs types the observation layer/depth is set to surface
      regardless of the entered value
v. 1.33.0
   PS 03032016
   -- Adding parameter "ADD" to the RADS reader to make it possible to revert
      a correction to SLA
v. 1.32.4
   PS 20022016
   -- A minor fix: replaced a number ofcalls to abs() by fabs() in grid.c
v. 1.32.3
   PS 17022016
   -- Added examples/4 to demonstrate a multi-grid setting.
   -- Added examples/1/conf directory to the source. Excluded it from the
      example data download.
   -- Changed some dimension and variable names and deleted global attributes
      in grid_spec.nc files.
v. 1.32.2
   PS 16022016
   -- Beautified examples/2/Makefile
   -- Added examples/3 to demonstrate using masked curvilinear grid in PREP
v. 1.32.1
   PS 16022016
   -- Bug fix for the previous version.
   -- Put in examples/2. It is exactly as example 1 except that the grid is
      set aas curvilinear (although in fact it is rectangular in lon/lat).
v. 1.32.0
   PS 12022016
   Made changes in the grid code to enable handling of ORCA grids. Also
   simplified the structure of the grid code -- got rid of dynamic functions,
   now using simple "if" cycles instead. Added grid_ij2xy() to make it possible
   to get cell's coordinates when necessary without parsing the whole grid into
   a spatial binary tree.

   In regard ORCA grids the workflow is as follows.
   1. Make a complementary grid with masked nodes around two poles in the
      northern hemisphere and along the line connecting these nodes. Run PREP
      with this grid. It will be fully mapped at a cost that a very small
      percent of obs along the line connecting the two poles will be ignored.
   2. Run CALC and POST with the normal grid.
v. 1.31.1
   PS 25012016
   -- Modified section 1.2 of the user guide.
v. 1.31.0
   PS 03012016
   -- Modified reader_navo.c to allow dimension name "length" along with the
      old name "nobs".
v. 1.30.0
   PS 23122015
   -- Added a crude check on individual observations after reading and initial
      processing to avoid situations with zero error or likewise.
v. 1.29.1
   PS 09122015
   -- Cosmetic changes.
v. 1.29.0
   PS 30112015
   -- Modified code to allow arbitrary range for the grid longitude.
      The range is now defined by the grid.lonbase field:
      lon range = [lonbase, lonbase + 360). (Used to be allowed either
      [-180, 180) or [0, 360) only.)
v. 1.28.3
   PS 17112015
   -- Modified gridprm_create() to make sure that the entry NAME is entered
      first when initialising a new grid.
v. 1.28.2
   PS 04112015
   -- Corrected a defect in reading multiple LOCRAD nd WEIGHT entries in
      obstypes parameter file.
v. 1.28.1
   PS 04112015
   -- Added a check on distance in obstype_calclcoeff(), necessary in
      multi-scale case.
v. 1.29.0
   PS 03122015
   Made entries "NUMLEVELSVARNAME" for Z grids or "MASKVARNAME" for sigma grids
   optional. The code builds these arrays now if necessary.
v. 1.28.1
   PS 03122015
   -- Cosmetic changes.
v. 1.28.0
   PS 30112015
   -- Made changes that suppose to make it possible multi-scale localisation.
      For now made it sure the code works with (single scale) example 1.
v. 1.27.4
   PS 28102015
   -- A change in an error message in enkfprm.c.
v. 1.27.3
   PS 28102015
   -- Moved #include "gridmap.h" in grid.c inside "#if !defined(NO_GRIDUTILS)".
      Thanks to Justin Freeman for reporting this defect.
v. 1.27.2
   PS 28102015
   -- Modified all readers to generate an error on unknown parameter.
v. 1.27.1
   PS 28102015
   -- Fixed a few glitches in reader_pathfinder_standard().
v. 1.27.0
   PS 28102015
   -- Added reader_pathfinder.c.
   -- Added PARAMETER ADDBIAS to reader_navo_standard(); default = no.
   -- Cosmetic changes in readers.
v. 1.26.11
   PS 26102015
   -- Allowed comments (starting with "#") after definition of pointlog in the
      main parameter file.
   -- Made model_getgridbyname() exit with error rather than return NULL when
      no grid with specified name is found.
v. 1.26.10
   PS 20102015
   -- Moved obs_createkdtrees() from the cycle over grids.
v. 1.26.9
   PS 15102016
   -- Cosmetic changes: definitions.h::NETCDF_FORMAT now defines the NetCDF
      format used.
v. 1.26.8
   PS 15102016
   -- Cosmetic changes (initialisation log).
v. 1.26.7
   PS 15102015
   -- Fixed inconsistency between insert and search keys in ht_plogs.
v. 1.26.6
   PS 15102015
   -- Reversed 1.26.3; instead write the "actual" transform to the point log
      only for if field.id == 0.
v. 1.26.5
   PS 15102015
   -- Corrected a (recently introduced) defect in g2_xy2fij() that filtered
      latitude according to the longitude range (-180 to 180 or 0 to 360).
v. 1.26.4
   PS 15102015
   -- Corrected log printing in model_print().
v. 1.26.3
   PS 14102015
   -- Introduced field pointlog.transform_written to avoid multiple writes of
      the "actual" (interpolated) transforms to pointlog files.
v. 1.26.2
   PS 13102015
   -- Generate error on unknown parameter in observation parameter file.
v. 1.26.1
   PS 13102015
   -- Fixed log when reporting obstypes parameter file (observation parameter
      file was reported instead).
v. 1.26.0
   PS 12102015
   -- Added parameter ORBITS to reader_amsre_standard(). Can be either "ALL",
      "DESCENDING", or "ASCENDING".
v. 1.25.5
   PS 08102015
   -- A similar change in z2fk_basic().
v. 1.25.4
   PS 08102015
   -- Fixed defects in x2fi_irreg() during mapping of points in the last cell.
v. 1.25.3
   PS 06102015
   -- Fixed a potentially major defect in vertical mapping for sigma grids in
      the case of grids going from bottom up. (Somehow it has not show up in
      practice.)
v. 1.25.2
   PS 06102015
   -- Changed INFRATIO_DEFAULT from 0.5 to 1.0.
v. 1.25.1
   PS 29092015
   -- Semi-cosmetic changes.
v. 1.25
   PS 24092015
   -- Added option of additive noise, which could be useful to keep spread
      during bias estimation.
v. 1.24
   PS 16092015
   -- Introduced alpha -- moderating parameter in DEnKF and ETKF.
v. 1.23.5
   PS 14092015
   -- Modified reader_amsre_standard() to handle parameter MINWIND. Inreased
      default value of MINWIND from 1 to 5 (m/s).
v. 1.23.4
   PS 10092015
   -- Fixed an inconsistency in enkf_prep.c when it sometimes tried to write
      to non-existent observation-orig.nc.
v. 1.23.3
   PS 09092015
   -- Fixed deallocation of null pointer in model.c and added missed
      deallocations in pointlog.c.
v. 1.23.2
   PS 09092015
   -- Cosmetic changes in distribute.c.
v. 1.23.1
   PS 09092015
   -- A minor clean-up of a previous development.
v. 1.23
   PS 08092015
   -- Added a new optional entry PARAMETER to the parameter data file.
      This allows to specify an arbitrary number of parameters for the reader.
      Modified reader_rads_standard() and reader_rads_standard2() to handle
      parameter MINDEPTH.
v. 1.22
   PS 07092015
   -- in find_files() added fflush(stdout) before calling popen() to avoid
      "intermingling" of outputs of the original and fork processes.
   -- Added a section on adaptive moderation of observations ("K-factor") to
      user manual.
v. 1.21.1
   PS 04092015
   -- Changed default to ignore subgrid variability.
v. 1.21
   PS 04092015
   -- During superobing - calculate std of the subgrid variability (in a rather
      crude way) and use <obs error std> = max(<obs error std>, <subgrid std>).
v. 1.20
   PS 03092015
   -- Switched off writing obs to observations-orig.nc when enkf_prep is run
      with --no-superobing.
   -- Corrected indexing of obs. This might be a substantial defect that was
      demonstrated to result in losing superobs in some cases, at least.
v. 1.19.2
   PS 01092015
   -- Fixed inconsistency in handling pointlog hash table.
v. 1.19.1
   PS 01092015
   -- A number of minor follow-on changes to v. 1.19.
v. 1.19
   PS 31082015
   -- Modified code to allow point logs to be specified on any grid by entering
      the grid name as an additional parameter in the pointlog entry. Grid 0
      will still be used as default.
v. 1.18
   PS 31082015
   -- Verified that setting LOCRAD and STRIDE to big numbers results in
      calculating a global analysis. Made some changes to the code to ensure
      that it runs with such setings, even when using more than one CPU in calc.
      Added target "global" to example 1.
v. 1.17
   PS 27082015
   -- Made writing analyses to separate files (rather than appending to forecast
      files) the default action. The former option "--separate-output" became
      redundant, a new option "--joint-analysis" appends analysis to forecast
      files.
v. 1.16
   PS 26082015
   -- Fixed a defect for sigma models resulted only in the first (with zero id)
      layer being updated (not sure when it was introduced).
v. 1.15
   PS 26082015
   -- Added a check on analysis julian day when opening observations.nc (to
      exclude using data from another cycle).
v. 1.14
   PS 25082015
   -- Added option "--point-logs-only" to enkf_calc to complement
      "--no-fields-write" in enkf_update.
v. 1.13
   PS 18082015
   -- Introduced global z intervals used for each region (unless overriden
      by local settings). Also, if no regions defined introduced a default
      region "Global" with domain [x1,x2] = [-999,999], [y1,y2] = [-999,999].
v. 1.12
   PS 17082015
   -- Can now specify arbitrary number of z intervals for obs stats of 3D
      fields for each region. The default is [0 50] [50 500] [500 9999].
v. 1.11
   PS 13082015
   -- Added ability to specify vertical split in observation stats for 3D fields
      for each region (in the region specs in the main parameter file); also
      added stats for the intermediate interval.
v. 1.10
   PS 12082015
   -- Fixed a major slowdown in obs_findlocal() introduced in v. 1.08: moved
      obs_find_bytype() outside. Thanks to Paul Sandery for the report.
v. 1.09.1
   PS 07082015
   -- Fixed bug in invsqrtm2() that resulted in wrong X5 for the ETKF. Thanks
      to Yonghong Yin for the report.
v. 1.09
   PS 04082015
   -- Added a new flag "--use-rmsd-for-obsstats" for enkf_calc. When RMSD is
      printed to the log, "[.]" is shown instead of "|.|" used for printing
      MAD. Also, added printing of the command line and working directory to the
      log for all binaries.
v. 1.08.2
   PS 03082015
   -- Corrected bug in obs_findlocal().
v. 1.08.1
   PS 03082015
   -- Bugs corrected in das_writefields() and obs_addtype().
v. 1.08
   PS 03082015
   -- Modified code to make localisation radius dependent on the observation
      type. The common value can now be overriden for  particular obs. type
      in the observation types parameter file.
v. 1.07
   PS 29072015
   -- Added a new option to enkf_update: --write-inflation. (It only takes
      effect when using adaptive inflation.)
v. 1.06.1
   PS 23072015
   -- Fixed a defect -- checking that plogs do actually exist before working
      on them. Thanks to Paul Sandery for reporting.
v. 1.06
   PS 22072015
   -- Added capability to define the limiting multiple for inflation (remains
      0.5 by default).
v. 1.05
   PS 09072015
   -- Added AMSRE reader.
v. 1.04
   PS 09072015
   -- Eliminated the field `dasystem.target'; it is replaced by the flag
      `das->updatespec & UPDATE_OUTPUTINC'.
v. 1.03
   PS 08072015
   -- Unified specifications for enkf_update -- they are now all in the variable
      `updatespec'.
   -- Introduced a new option in enkf_update "-no-fields-update".
v. 1.02
   PS 22062015
   -- Made land test in das_updatefields() and das_updatebg() depth dependent.
      For now assume that the layeres are counted down from the surface (for Z
      models).
v. 1.01
   PS 18062015
   -- Fixed inconsistency with -DNO_GRIDUTILS (thanks to Russ Fiedler for the
      bug report).
   -- Some cosmetic changes.
v. 1.00
   PS 17062015
   -- Modified code to make the actual (interpolated) transforms/weights also
      written to the pointlog files (as "X5_actual" or "w_actual").
v. 0.99
   PS 16062015
   -- Modified pointlog code to write both analysis and forecast variables (was
      analysis only).
   -- Corrrected spread calculation (replaced /(m-1) by /m).
   -- Changed sprintf() to snprintf() throughout the code.
v. 0.98
   PS 03062015
   -- Fixed a (minor) inconsistency that led to assertion failure in some
      single observation experiments.
v. 0.97.3
   PS 11052015
   -- Corrected a defect in utils.c: replaced "sort_r()" by "qsort_r()" to
      compile correctly for systems with no qsort_r().
v. 0.97.2
   PS 08052015
   -- Added a new procedure utils.c::int getnumlevels(char fname[], char
      varname[]) and use it in H_surf_standard() to test whether the model file
      has been stripped to contain the surface layer only or not. (This is
      necessary when the top layer is not k = 0.)
   -- Added a few assertions to readfield() and writefield().
v. 0.97.1
   PS 06052015
   -- Added parameter `hastosucceed' to model_getvarid().
v. 0.97
   PS 05052015
   -- Set quit function for gridutils to enkf_quit. This change requires
      upgrade to the latest version of libgu (v. 0.54).
v. 0.96.3
   PS 05052015
   -- Fixed a defect in gridprm.c that sometimes caused exiting with error
      "VTYPE specified twice".
v. 0.96.2
   -- Cosmetic changes.
v. 0.96.1
   PS 19022015
   -- Fixed name of the "nk" dimension in pointlog files, get_nkname().
v. 0.96
   PS 17022015
   -- Fixed the call to grid_create() in model.c to pass correctly the grid type
      to the grid structure (was defaulted to GRIDVTYPE_Z). (Thanks to Paul
      Sandery for the bug report.)
v. 0.95
   PS 12022015
   -- Modified code to be able to proceed with nobs = 0; introduced a new option
      for enkf_calc "--ignore-no-obs".
v. 0.94
   PS 05022015
   -- Added code for qsort_r() activated by compiler flag -DNO_QSORT_R. (For
      systems with old glibc; based on public code sort_r.h by Isaac Turner.)
v. 0.93
   Paul Sandery 30012015
   -- Added a reader for AMSR-2.
v. 0.92.3
   PS 30012015
   -- Corrected das_updatebg() to work in the case STRIDE = 1 (thanks to Paul
      Sandery for the bug report).
v. 0.92.2
   PS 16012015
   -- Modified H_surf_standard() and H_surf_biased() to read the actual level
      of the surface variable.
v. 0.92.1
   PS 16012015
   -- Made DEPTHVARNAME optional for a grid; an error is generated in
      model_getdepth() if it is not set for the grid the variable is defined on.
   -- Made the inflation limited by half of the magnitude of the spread
      reduction.
v. 0.92
   PS 06012015
   -- Added a strict check on keywords in obstypes parameter file. Corrected
      obstypes parameter file in example 1 (replaced MIN and MAX by MINVALUE and
      MAXVALUE). Removed redundant explicit call to das_setobstypes() in
      enkf_calc.c made in the case of singleob.
   -- Corrected handling of obs error from file in obs_add().
   -- Made a few changes towards achieving consistency in handling grid
      periodicity. Affected interpolate2d(), interpolate3d(), grid_xy2fij().
   -- Do not calculate transforms for a grid in das_calctransforms() if there
      are no model variable associated with it.
   -- Corrected das_updatefields() to work in the case STRIDE = 1.
v. 0.91
   PS 12122014
   -- Structural changes: no more `models' directory. Instead, grid
      specifications now require VTYPE (currently can be either "z" or "sigma").
v. 0.90
   PS 17122014
   -- Corrected defect in verticall mapping -- thanks to Russ Fiedler for the
      bug report.
   -- Moved `gridprm' stuff to gridprm.[ch].
v. 0.89
   PS 10122014
   -- Added sigma model to enable assimilating with ROMS. Quite substantial
      secondary changes overall.
v. 0.88
   PS 20141120
   -- SUBSTANTIAL structural changes. It is now possible to have multiple grids
      within a model. Each variable is associated with one of the grids. The
      ensemble transforms are calculated separately for each grid. Analysed
      ensembles in pointlogs are produced with the transforms on the grid
      defined first in the grid parameter file, for now.
   -- A correction for the CARS reader: an obs is considered invalid if its
      depth is < 0.
v. 0.87
   PS 20141114
   -- Replaced SRF limited inflation by inflation limited by directly calculated
      spread reduction for each element of the state vector. This is a default
      inflation mode; add PLAIN to the inflation specification in the parameter
      file to use uniform inflation.
v. 0.86
   PS 20141110
   -- The variable-specific inflation set in the model parameter file now simply
      overrides (not multiplies with) the common inflation set in the main
      parameter file.
v. 0.85
   PS 20141103
   -- Added RADS reader "biased" for MDT bias correction with the EnKF.
   -- Modified format of H_fn: added varname2 to specify for the bias variable
      when necessary.
   -- Corrected a minor interpolation bug introduced in previous version in
      das_updatefields().
   -- Corrected interpolation bug in fi2x().
v. 0.84
   PS 20141024
   -- in das_updatefields() limited inflation by 1 + SRF.
v. 0.83
   PS 20141013
   -- Added a new parameter "--no-superobing" to enkf_prep.
v. 0.82
   PS 20141010
   -- Fixed a defect in update_HE() that might cause accessing observation
      array element outside the array.
v. 0.81
   PS 20141008
   -- Modified das_calcbatchstats() to run only on master.
v. 0.80
   PS 20141003
   -- Corrected a defect in obs_markbadbatches() when a batch of wrong type
      could be used.
v. 0.79
   PS 20140919 (minor changes)
   -- Made it possible to compile without `gridutils' by defining flag
      -DNO_GRIDUTILS
v. 0.78
   PS 20140919 (minor changes)
   -- Set batch ID for NAVO and Windsat SST obs to 0 (was -1). This makes it
      possible to identify "bad batches" of these obs on "per file" basis.
v. 0.77
   PS 20140909 (moderate structural changes)
   -- Introduced `struct variable'.
   -- Changed the way the custom model initialisation is done: now it is called
      right after reading the model type; this allows to read other bits in the
      model parameter file in a custom way.
   -- Removed now redundant `struct zmodelprm' in zmodel.c. Added
      zmodel_adddata().
   -- Now read WM__INST_TYPE in MMT reader as the instrument type.
   -- Removed redudant variable `vv' in das_updatefields().
   -- Modified definition of das_updatefields() to make it more general and
      more consistent with other update procedures.
v. 0.76
   PS 20140901
   -- Renamed stage 3 from "post" to "update".
v. 0.75
   PS 20140828
   -- Introduced field `alloctype' in `modeldata' to handle de-allocation.
   -- Made the parameter `nk' in
      model_getdims(model* m, int* ni, int* nj, int* nk) optional (can be NULL
      if not needed).
v. 0.74
   PS 28082014
   -- Moved specification of variables from main parameter file to model
      parameter file.
   -- Modified entry for model data: it now should start with "DATA".
v. 0.73
   PS 27082014
   -- Reduced number of tiles for point logs by joining tiles for the same
      field for all point logs into one.
v. 0.72
   PS 26082014
   -- Made writing state variables to point log files two-stage, similar
      to other updates: first to tiles, one cpu per tile, and then the final
      "assembly". Added plog_writestatevars_toassemble() and
      plog_assemblestatevars(); plog_writestatevars() became
      plog_writestatevars_direct().
v. 0.71
   PS 20082014
   -- Made structural changes: put observation type related stuff into
      obstypes.[ch]. Introduced new "observation types" parameter file.
      Eliminated `struct obstypedesc' and global variable `obstypedesc
      otdescs[]'. Consolidated all obs type related stuff in
      observations.obstypes field. Moved all obs types related stuff from
      enkfprm_read() to obstypes_read().
   -- Added descriptions of each parameter file used; modified usage to reflect
      this.
   -- Modified obs_add() to report the number of good obs read from each data
      file (along with the total number of obs). Removed this from CARS and
      MMT readers (no longer needed).
   -- In example 1 added a new target "singleob".
v. 0.70
   PS 18082014
   -- Fixed a silly defect in das_writefields_toassemble() (an unecessary cycle
      over ensemble).
v. 0.69
   PS 15082014
   -- Introduced obs_checkdatasize() and put it into readers.
v. 0.68
   PS 15082014
   -- Introduced option to specify domains for each type of observations by
      entries "OBSDOMAIN <obs type> <x1> <x2> <y1> <y2> [<z1> <z2>]" in the
      parameter file.
   -- For RADS reader in Neil White's format - only use obs with local_flag = 0.
v. 0.67
   PS 14082014
   -- Made a modification: the entries for standard deviations optionally
      specified in each section of the observation parameter file can now
      also specify the associated arithmetic operation: EQUAL (default),
      PLUS (actually sqrt(std * std + prev * prev)), MULT, MIN, MAX
v. 0.66
   PS 13082014
   -- Made a small correction in readers.
   -- Merged das_create() for calc and post. Added creation of pointlogs for
      post.
   -- Swapped dimensions for S in plog_write().
   -- Introduced field `struct observation.nallocated'.
v. 0.65
   PS 09082014
   -- Eliminated potentially architechture dependent operations with floating
      point in distribute_iterations().
v. 0.64
   PS 08082014
   -- Removed exit by error in distribute_iterations() in the case when the
      number of iterations is less than the number of CPUs. Seems to work fine.
   -- Replaced enkf_calc.c::int fstatsonly by global.c::int enkf_fstatsonly.
   -- Added a new target "stats" to example/1.
v. 0.63
   PS 06082014
   -- Removed field `dasystem.Hx'.
v. 0.62
   PS 06082014
   -- Replaced  NC_CLOBBER by NC_CLOBBER | NC_64BIT_OFFSET.
v. 0.61
   PS 05082014
   -- Added consistency to standardising/destandardising/sorting/unsorting obs.
      Fixed inconsistencies introduced in v. 0.60.
v. 0.60
   PS 05082014
   -- Bug fix in das_calcinnandspread().
v. 0.59
   PS 04082014
   -- Replicated using STATUS_ROUNDUP in interpolate_3d_obs() (was only in
      interpolate_2d_obs() ).
v. 0.58
   PS 04082014
   -- Rewrote unsortobs_byij() in an economical way, avoiding duplication of S.
v. 0.57
   PS 01082014
   -- Modified das_destandardise() to include restoring obs order by id.
      Simplified das_printobsstats(), das_printfobsstats(dasystem* das)
      and das_calcbatchstats() accordingly.
   -- Added obs_inorder().
   -- Minor fixes.
v. 0.56
   PS 23072014
   -- A defect in enkf_calc.c (using destroyed object)
v. 0.55
   PS 23072014
   -- Miscellaneous changes: batch identification, hashtable, MMT reader...
v. 0.54
   PS 22072014
   -- Introduces STATUS_ROUNDUP for the cases when the observation changes
      grid cell after its fractional indices are written and read from
      observations.nc
v. 0.53
   PS 15072014
   -- Adding another parameter for entry BADBATCHES - threshold batch mean
      absolute innovation.
v. 0.52
   PS 14072014
   -- Setting SOBSTRIDE = 0 now switches superobing off.
v. 0.51
   PS 11072014 Added functionality to detect and remove bad batches of obs:
   -- Makefile: introduced flags -DENKF_PREP, -DENKF_CALC, -DENKF_POST when
      compiling enkf_prep, enkf_calc and enkf_post; added hash.h and hash.c;
      updated file lists
   -- enkf_prep: introduced new option --print-batchstats
   -- enkf_prep: marks as bad observations from batches listed in
      "badbatches.out"
   -- added fields `nbadbatchspecs' and `badbatchspecs' to `struct enkfprm' and
      `struct dasystem'
   -- obsstats.c: added das_calcbatchstats()
   -- lots of small changes elsewhere to handle batches
v. 0.50
   PS 09072014
   -- Replaced `struct measurement' by `struct observation'.
   -- Added fields `datafiles', `fid' and `batch' to `observation'. Updated
      readers to set these fields. Updated obs_write() and obs_read().
   -- Moved das_readobs() to obs_read().
   -- Added stringtable `datafiles' to `struct observations'.
   -- Fixed a minor defect in reader_rads_standard2() to take care of
      obs->allobs.
v. 0.49
   PS 01072014
   -- Renamed "mom4" to "z-model" (or "zmodel" in the code).
v. 0.48
   PS 27062014
   -- Added H_sla_bran() that conducts global debiasing of SLA innovation.
v. 0.47
   PS 26062014
   -- A bit of generalisation on coordinates: added grid_settocartesian_fn()
      and grid_tocartesian(); made the associated changes in the rest of the
      code.
v. 0.46
   PS 26062014
   Quite a bit of structural change. Some of the parameter files are affected.
   -- Added `name' to `struct model'; renamed `tag' by `type'.
   -- Modified model_create().
   -- Added `int ndata, modeldata* data' to `struct model'.
   -- Moved `msl' from `dasystem' to `model', stored in `data'.
   -- Moved `numlevels' and `depth' from `model' to `grid'.
   -- Renamed grid_set() to grid_setcoords().
   -- Added grid_setdepth(), grid_setnumlevels(), grid_getdepth(),
      grid_getnumlevels(), grid_getname().
   -- Split model setup  into `setgridfn' and `setupfn'.
   -- In mom4.c added gridprm_describe, mom4prm_create(), mom4prm_destroy(),
      mom4prm_describe().
   -- Added model_describe() and grid_describe().
   -- Moved `nvar', `varnames' from `dasystem' to `model'; added
      model_getnvar(), model_getvarname(), model_getvarinflation().
v. 0.45
   PS 06062014
   -- Try to automatically detect whether the model grid's longitudes belong to
      [-180, 180] or [0, 360] range and adjust observations accordingly.
   -- Changed model->depth from double** to float**.
   -- Modified model_z2k(): it now checks that the observation depth is smaller
      than the model depth.
v. 0.44
   PS 19052014
   -- Added new scheme EnKF-N
   -- Filtered out (by default) obs outside model grid in obs readers now, not
      during writing obs to files.
v. 0.43
   PS 14052014
   -- Consolidated tiles for the EnKF in per variable/per layer files. That
      is, one tile now holds the whole ensemble. Fixed defects in detecting
      tiles. Removed WRITEBG_BYMASTER pre-processor flag.
v. 0.42
   PS 09052014
   -- Remove tiles by default, add a new command option --leave-tiles to post
      to leave tiles
v. 0.41
   PS 16042014
   -- Modified writing spread to use tiles by default, and write directly to
      spread.nc when specified --direct-write.
v. 0.40
   PS 01042014
   -- Introduced new parameter SOBSTRIDE, 1 by default, to define the stride
      of superobing.
v. 0.39
   PS 31032014
   -- Corrected superobing to weight by the inverse error variance not only
      the value, but also: lon, lat, depth, fi, fj, fk, date
   -- Introduced a new option "--no-mean-update" for enkf_calc.
v. 0.38
   PS 27022014
   -- Reshuffle of writing the output by post: now by default it writes analysed
      2D fields to individual files, and then assemble those into final
      analysis files. Use --direct-write option to post to force the direct
      write
v. 0.37
   PS 21022014
   Bug fix: inflation was not applied properly when running with
   --out-increment in enkf_post.
v. 0.36
   PS 15022014
   -- Introduced a new command line option "--describe-prm-format"
   -- Eliminated pre-processor flag CONSERVATIVE_Z2K (assumed always false now).
v. 0.35
   PS 20122013
   -- Changed options style from "-x" to "--do-that".
   -- Removed utility "mkunitobs", introduced two new options for enkf_calc
      "--single-observation-xyz" and "--single-observation-ijk" instead.
   -- Replaced pre-processor flag SEPARATE_STORAGE by a new option for
      enkf_post "separate-output"
   -- Introduced a new option to enkf_post "output-increment".
   -- Introduced a new file global.c to store global flags and settings.
v. 0.34
   PS 17122013
   -- Introduced compile flag CONSERVATIVE_Z2K, if defined (default = no) then
      the z2k transformations in partially watered cell are assumed to be
      not valid.
   -- Introduced new type "obstypedesc", at this stage -- to contain
      information whether observations of this type are surface or subsurface.
   -- Added a new field "id_orig" to type "measurement".
   -- Changed MPI send/receive for HE from blocking to asynchronous to avoid a
      bottleneck for very large models.
   -- Added compile flag HE_VIAFILE to communicate HE via a NetCDF file.
v. 0.33
   PS 27112013
   -- Introduced ENSOBSTYPE for ensemble observations (was double), to save
      memory for very big systems.
v. 0.32
   PS 15112013
   -- Added reporting stats for individual instruments by das_printobsstats()
      and das_printfobsstats().
   -- Moved update procedures from dasystem.c into update.c to reduce the
      size of dasystem.c.
   -- ditto transform.c
   -- ditto obsstats.c
   -- ditto ensobs.c
   -- Conducted a bit of Makefile restructuring, moving stuff from COMMON to
      CALC and POST
   -- Added a command-line utility `mkunitobs' that creates observations.nc
      with a single observation of specified type, innovation and error
v. 0.31
   PS 04112013
   -- Added SCHEME = ETKF (DEnKF remains the default) for MODE = EnKF.
   -- observations-orig.nc: excluding observations with status = STATUS_OUTSIDE;
      use "enkf_prep -a ..." to put all obs.
v. 0.30
   PS 18102013
   Added a pre-processor option SEPARATE_STORAGE to split forecast and analysis
   into different files. The analysis file name is created by appending
   ".analysis" to the forecast file name.
v. 0.29
   PS 14102013
   Implemented point logs.
v. 0.28
   PS 26092013
   Added option -s to enkf_post to calculate the ensemble spread and write to
   "spread.nc".
v. 0.27
   PS 12092013
   Added backtrace() in enkf_quit().
   Added a pre-processor option WRITEBG_BYMASTER to update BG fields by all
   processes or by master only.
v. 0.26
   Paul Sandery 4/9/2013
   Added reading profiles in BoM's MMT format.
v. 0.25
   PS 22/8/2013
   Added option -s to enkf_calc to calculate forecast observation stats only.
   This cuts (for EnOI) reading the ensemble and calculating transforms.
v. 0.24
   PS 19/8/2013
   Modified das_writebg() to pass all writing to the master.
v. 0.23
   PS 31/7/2013
   Changed return values for model_getmemberfnameasync_fn and
   model_getbgfnameasync_fn from void to int. These functions are supposed
   to return 0 or 1 depending on whether the asynchronous data were found (1)
   or not (0).
   Modified writefield() to handle "missing_value" atribute for NC_FLOAT.
   Modified das_printobsstats() to print stats by day for asynchronous obs.
v. 0.22
   PS 11/7/2013
   Modified writefield() to handle "valid_range" attribute for data of type
   NC_FLOAT.
v. 0.21
   PS 5/7/2013
   Added curvilinear capability for MOM. Was not able to test.
v. 0.20
   PS 15/5/2013
   Added file headers
v. 0.18
   PS 10/5/2013
   Added `scale_factor' and `add_offset' to readfield().
v. 0.17
   PS 10/4/2013
   Added "indent" target to the Makefile.
v. 0.16
   PS 8/4/2013
   Fixed defect in distribute_iterations().
v. 0.15
   PS 5/4/2013
   Fixed inconsistency between distribute_iterations() and
   das_calculatetransforms().
v. 0.14
   PS 5/4/2013
   For all readers - handle the case of # obs. = 0.
